2025-07-20T04:47:25.5251965Z ##[group]Run pnpm test || (echo "Tests failed. Running individual package tests..." && pnpm -r test)
2025-07-20T04:47:25.5252632Z [36;1mpnpm test || (echo "Tests failed. Running individual package tests..." && pnpm -r test)[0m
2025-07-20T04:47:25.5280202Z shell: /usr/bin/bash -e {0}
2025-07-20T04:47:25.5280443Z env:
2025-07-20T04:47:25.5280607Z   REGISTRY: ghcr.io
2025-07-20T04:47:25.5280813Z   IMAGE_NAME: patrg444/Cygni
2025-07-20T04:47:25.5281085Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-07-20T04:47:25.5281355Z ##[endgroup]
2025-07-20T04:47:25.9116419Z 
2025-07-20T04:47:25.9116966Z > cloudexpress@0.1.0 test /home/runner/work/Cygni/Cygni
2025-07-20T04:47:25.9117480Z > npx turbo run test
2025-07-20T04:47:25.9117714Z 
2025-07-20T04:47:26.2392493Z 
2025-07-20T04:47:26.2393008Z Attention:
2025-07-20T04:47:26.2393726Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-07-20T04:47:26.2394877Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-07-20T04:47:26.2395842Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-07-20T04:47:26.2396501Z https://turbo.build/repo/docs/telemetry
2025-07-20T04:47:26.2396709Z 
2025-07-20T04:47:26.2969405Z • Packages in scope: @cloudexpress/api, @cloudexpress/auth, @cloudexpress/builder, @cloudexpress/services-api, @cloudexpress/web-ui, @cygni/cli, @cygni/sdk, cygni-nextjs-starter, express-demo, fullstack-demo
2025-07-20T04:47:26.2970997Z • Running test in 10 packages
2025-07-20T04:47:26.2971519Z • Remote caching disabled
2025-07-20T04:47:27.6731741Z ##[group]@cloudexpress/api:build
2025-07-20T04:47:27.6823251Z cache miss, executing d7d57639bfc623a5
2025-07-20T04:47:27.6823890Z 
2025-07-20T04:47:27.6825289Z > @cloudexpress/api@1.0.0 build /home/runner/work/Cygni/Cygni/packages/api
2025-07-20T04:47:27.6826261Z > echo 'Skipping build for packages/api - using services/api instead'
2025-07-20T04:47:27.6827117Z 
2025-07-20T04:47:27.6827536Z Skipping build for packages/api - using services/api instead
2025-07-20T04:47:27.6828749Z ##[endgroup]
2025-07-20T04:47:29.3011195Z [;31mfullstack-demo:build[;0m
2025-07-20T04:47:29.3012236Z cache miss, executing 836c423f5302bbfb
2025-07-20T04:47:29.3012802Z 
2025-07-20T04:47:29.3013530Z > fullstack-demo@1.0.0 build /home/runner/work/Cygni/Cygni/examples/fullstack-demo
2025-07-20T04:47:29.3014599Z > npm run build:frontend && npm run build:backend
2025-07-20T04:47:29.3015381Z 
2025-07-20T04:47:29.3015556Z 
2025-07-20T04:47:29.3015951Z > fullstack-demo@1.0.0 build:frontend
2025-07-20T04:47:29.3016578Z > cd frontend && npm run build
2025-07-20T04:47:29.3016993Z 
2025-07-20T04:47:29.3017158Z 
2025-07-20T04:47:29.3017487Z > frontend@1.0.0 build
2025-07-20T04:47:29.3018298Z > vite build
2025-07-20T04:47:29.3018708Z 
2025-07-20T04:47:29.3019076Z sh: 1: vite: not found
2025-07-20T04:47:29.3019851Z npm error Lifecycle script `build` failed with error:
2025-07-20T04:47:29.3020627Z npm error code 127
2025-07-20T04:47:29.3021614Z npm error path /home/runner/work/Cygni/Cygni/examples/fullstack-demo/frontend
2025-07-20T04:47:29.3022659Z npm error workspace frontend@1.0.0
2025-07-20T04:47:29.3023612Z npm error location /home/runner/work/Cygni/Cygni/examples/fullstack-demo/frontend
2025-07-20T04:47:29.3024387Z npm error command failed
2025-07-20T04:47:29.3024922Z npm error command sh -c vite build
2025-07-20T04:47:29.3025624Z  ELIFECYCLE  Command failed.
2025-07-20T04:47:29.3027279Z [ERROR] command finished with error: command (/home/runner/work/Cygni/Cygni/examples/fullstack-demo) /home/runner/setup-pnpm/node_modules/.bin/pnpm run build exited (1)
2025-07-20T04:47:29.3078954Z ##[group]@cloudexpress/api:test
2025-07-20T04:47:29.3079500Z cache miss, executing 65717c5af65827f0
2025-07-20T04:47:29.3080135Z ##[endgroup]
2025-07-20T04:47:29.3300893Z ##[group]@cygni/sdk:build
2025-07-20T04:47:29.3301567Z cache miss, executing 7c13eef4e550ea9c
2025-07-20T04:47:29.3301926Z 
2025-07-20T04:47:29.3302361Z > @cygni/sdk@0.1.0 build /home/runner/work/Cygni/Cygni/packages/sdk
2025-07-20T04:47:29.3303278Z > tsc
2025-07-20T04:47:29.3303447Z 
2025-07-20T04:47:29.3303811Z ##[endgroup]
2025-07-20T04:47:29.3329241Z ##[group]@cloudexpress/builder:build
2025-07-20T04:47:29.3331286Z cache miss, executing 4ded1d4d68d2c67b
2025-07-20T04:47:29.3331601Z 
2025-07-20T04:47:29.3342001Z > @cloudexpress/builder@0.1.0 build /home/runner/work/Cygni/Cygni/services/builder
2025-07-20T04:47:29.3360911Z > tsc
2025-07-20T04:47:29.3361164Z 
2025-07-20T04:47:29.3361556Z ##[endgroup]
2025-07-20T04:47:29.3362140Z ##[group]@cloudexpress/services-api:build
2025-07-20T04:47:29.3362718Z cache miss, executing 4e62ac1d496e0320
2025-07-20T04:47:29.3363032Z 
2025-07-20T04:47:29.3363572Z > @cloudexpress/services-api@0.1.0 build /home/runner/work/Cygni/Cygni/services/api
2025-07-20T04:47:29.3364221Z > tsc
2025-07-20T04:47:29.3364388Z 
2025-07-20T04:47:29.3364747Z ##[endgroup]
2025-07-20T04:47:29.3365307Z ##[group]@cloudexpress/auth:build
2025-07-20T04:47:29.3365828Z cache miss, executing b67affc02e0960ce
2025-07-20T04:47:29.3366152Z 
2025-07-20T04:47:29.3366635Z > @cloudexpress/auth@0.1.0 build /home/runner/work/Cygni/Cygni/services/auth
2025-07-20T04:47:29.3367249Z > tsc
2025-07-20T04:47:29.3367419Z 
2025-07-20T04:47:29.3367756Z ##[endgroup]
2025-07-20T04:47:29.3372897Z ##[group]@cygni/cli:build
2025-07-20T04:47:29.3373438Z cache miss, executing b16674cbdaf125c3
2025-07-20T04:47:29.3373767Z 
2025-07-20T04:47:29.3374183Z > @cygni/cli@0.1.0 build /home/runner/work/Cygni/Cygni/packages/cli
2025-07-20T04:47:29.3374841Z > tsc && chmod +x dist/index.js
2025-07-20T04:47:29.3375109Z 
2025-07-20T04:47:29.3375470Z ##[endgroup]
2025-07-20T04:47:29.3954233Z ##[group]@cloudexpress/web-ui:build
2025-07-20T04:47:29.3954974Z cache miss, executing 228955e8942f1de9
2025-07-20T04:47:29.3955274Z 
2025-07-20T04:47:29.3955793Z > @cloudexpress/web-ui@0.1.0 build /home/runner/work/Cygni/Cygni/packages/web-ui
2025-07-20T04:47:29.3956758Z > next build
2025-07-20T04:47:29.3956937Z 
2025-07-20T04:47:29.3957301Z ##[endgroup]
2025-07-20T04:47:29.3982621Z ##[error]fullstack-demo#build: command (/home/runner/work/Cygni/Cygni/examples/fullstack-demo) /home/runner/setup-pnpm/node_modules/.bin/pnpm run build exited (1)
2025-07-20T04:47:29.3993089Z 
2025-07-20T04:47:29.3993359Z  Tasks:    1 successful, 9 total
2025-07-20T04:47:29.3993806Z Cached:    0 cached, 9 total
2025-07-20T04:47:29.3994185Z   Time:    3.153s 
2025-07-20T04:47:29.3994649Z Failed:    fullstack-demo#build
2025-07-20T04:47:29.3994903Z 
2025-07-20T04:47:29.4019064Z  ERROR  run failed: command  exited (1)
2025-07-20T04:47:29.5114465Z  ELIFECYCLE  Test failed. See above for more details.
2025-07-20T04:47:29.5293573Z Tests failed. Running individual package tests...
2025-07-20T04:47:29.9472614Z Scope: 10 of 11 workspace projects
2025-07-20T04:47:29.9548709Z examples/fullstack-demo test$ echo "No tests yet"
2025-07-20T04:47:29.9549600Z packages/cli test$ vitest
2025-07-20T04:47:29.9553172Z packages/sdk test$ jest
2025-07-20T04:47:29.9556677Z packages/api test$ echo 'Skipping tests for packages/api - using services/api instead'
2025-07-20T04:47:29.9768322Z examples/fullstack-demo test: No tests yet
2025-07-20T04:47:29.9791567Z examples/fullstack-demo test: Done
2025-07-20T04:47:29.9807321Z packages/api test: Skipping tests for packages/api - using services/api instead
2025-07-20T04:47:29.9825026Z packages/api test: Done
2025-07-20T04:47:29.9832915Z services/api test$ vitest
2025-07-20T04:47:29.9843878Z services/auth test$ vitest
2025-07-20T04:47:30.5087155Z packages/cli test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
2025-07-20T04:47:30.5539725Z services/auth test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/auth[39m
2025-07-20T04:47:30.5599550Z services/api test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/api[39m
2025-07-20T04:47:30.5876399Z packages/cli test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/packages/cli[39m
2025-07-20T04:47:31.3461712Z services/auth test:  [32m✓[39m src/auth.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 12[2mms[22m[39m
2025-07-20T04:47:31.3696229Z services/auth test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.3703853Z services/auth test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.3708546Z services/auth test: [2m   Start at [22m 04:47:30
2025-07-20T04:47:31.3713302Z services/auth test: [2m   Duration [22m 810ms[2m (transform 104ms, setup 0ms, collect 53ms, tests 12ms, environment 0ms, prepare 186ms)[22m
2025-07-20T04:47:31.4068808Z services/auth test: Done
2025-07-20T04:47:31.4081565Z services/builder test$ vitest
2025-07-20T04:47:31.4308182Z services/api test:  [32m✓[39m src/health.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 7[2mms[22m[39m
2025-07-20T04:47:31.4449588Z services/api test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.4450952Z services/api test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.4452085Z services/api test: [2m   Start at [22m 04:47:30
2025-07-20T04:47:31.4453606Z services/api test: [2m   Duration [22m 880ms[2m (transform 71ms, setup 0ms, collect 45ms, tests 7ms, environment 0ms, prepare 217ms)[22m
2025-07-20T04:47:31.4831367Z services/api test: Done
2025-07-20T04:47:31.6383144Z packages/cli test:  [32m✓[39m src/tests/framework-detector.test.ts [2m ([22m[2m12 tests[22m[2m)[22m[90m 17[2mms[22m[39m
2025-07-20T04:47:31.6629874Z packages/cli test: [90mstdout[2m | src/tests/builder.test.ts[2m > [22m[2mBuilder[2m > [22m[2mbuildProject[2m > [22m[2mshould auto-detect framework when not specified[22m[39m
2025-07-20T04:47:31.6636374Z packages/cli test: Detected framework: react
2025-07-20T04:47:31.6642278Z packages/cli test: [90mstdout[2m | src/tests/builder.test.ts[2m > [22m[2mBuilder[2m > [22m[2mbuildProject[2m > [22m[2mshould run pre-build commands when specified[22m[39m
2025-07-20T04:47:31.6644142Z packages/cli test: Running build command...
2025-07-20T04:47:31.6645845Z packages/cli test:  [32m✓[39m src/tests/builder.test.ts [2m ([22m[2m7 tests[22m[2m)[22m[90m 16[2mms[22m[39m
2025-07-20T04:47:31.7709340Z packages/sdk test: PASS src/sdk.test.ts
2025-07-20T04:47:31.7710246Z packages/sdk test:   SDK
2025-07-20T04:47:31.7711783Z packages/sdk test:     ✓ should pass basic test (3 ms)
2025-07-20T04:47:31.7807281Z packages/sdk test: Test Suites: 1 passed, 1 total
2025-07-20T04:47:31.7821093Z packages/sdk test: Tests:       1 passed, 1 total
2025-07-20T04:47:31.7822868Z packages/sdk test: Snapshots:   0 total
2025-07-20T04:47:31.7824683Z packages/sdk test: Time:        1.071 s
2025-07-20T04:47:31.7835736Z packages/sdk test: Ran all test suites.
2025-07-20T04:47:31.8829301Z packages/sdk test: Done
2025-07-20T04:47:32.0121142Z packages/cli test:  [32m✓[39m src/tests/deploy-helpers.test.ts [2m ([22m[2m18 tests[22m[2m)[22m[90m 26[2mms[22m[39m
2025-07-20T04:47:32.0534557Z services/builder test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/builder[39m
2025-07-20T04:47:32.1325859Z packages/cli test:  [32m✓[39m src/dummy.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 9[2mms[22m[39m
2025-07-20T04:47:32.2678867Z packages/cli test:  [32m✓[39m src/tests/runtime-validator.test.ts [2m ([22m[2m8 tests[22m[2m)[22m[90m 91[2mms[22m[39m
2025-07-20T04:47:32.2903534Z packages/cli test: [2m Test Files [22m [1m[32m5 passed[39m[22m[90m (5)[39m
2025-07-20T04:47:32.2939214Z packages/cli test: [2m      Tests [22m [1m[32m46 passed[39m[22m[90m (46)[39m
2025-07-20T04:47:32.2940463Z packages/cli test: [2m   Start at [22m 04:47:30
2025-07-20T04:47:32.2942025Z packages/cli test: [2m   Duration [22m 1.70s[2m (transform 372ms, setup 0ms, collect 1.07s, tests 159ms, environment 1ms, prepare 887ms)[22m
2025-07-20T04:47:32.3321747Z packages/cli test: Done
2025-07-20T04:47:32.4540976Z services/builder test:  [32m✓[39m src/builder.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-07-20T04:47:32.4615039Z services/builder test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:32.4617576Z services/builder test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:32.4620590Z services/builder test: [2m   Start at [22m 04:47:32
2025-07-20T04:47:32.4623619Z services/builder test: [2m   Duration [22m 410ms[2m (transform 46ms, setup 0ms, collect 26ms, tests 3ms, environment 0ms, prepare 93ms)[22m
2025-07-20T04:47:32.4786763Z services/builder test: Done
