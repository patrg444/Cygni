2025-07-20T04:47:24.0917786Z ##[group]Run pnpm test || (echo "Tests failed. Running individual package tests..." && pnpm -r test)
2025-07-20T04:47:24.0918430Z [36;1mpnpm test || (echo "Tests failed. Running individual package tests..." && pnpm -r test)[0m
2025-07-20T04:47:24.0945861Z shell: /usr/bin/bash -e {0}
2025-07-20T04:47:24.0946104Z env:
2025-07-20T04:47:24.0946280Z   REGISTRY: ghcr.io
2025-07-20T04:47:24.0946490Z   IMAGE_NAME: patrg444/Cygni
2025-07-20T04:47:24.0946780Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-07-20T04:47:24.0947077Z ##[endgroup]
2025-07-20T04:47:24.4776508Z 
2025-07-20T04:47:24.4776841Z > cloudexpress@0.1.0 test /home/runner/work/Cygni/Cygni
2025-07-20T04:47:24.4777205Z > npx turbo run test
2025-07-20T04:47:24.4777339Z 
2025-07-20T04:47:24.7714694Z 
2025-07-20T04:47:24.7715216Z Attention:
2025-07-20T04:47:24.7715963Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-07-20T04:47:24.7716959Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-07-20T04:47:24.7718379Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-07-20T04:47:24.7719398Z https://turbo.build/repo/docs/telemetry
2025-07-20T04:47:24.7719998Z 
2025-07-20T04:47:24.8305848Z • Packages in scope: @cloudexpress/api, @cloudexpress/auth, @cloudexpress/builder, @cloudexpress/services-api, @cloudexpress/web-ui, @cygni/cli, @cygni/sdk, cygni-nextjs-starter, express-demo, fullstack-demo
2025-07-20T04:47:24.8307405Z • Running test in 10 packages
2025-07-20T04:47:24.8307946Z • Remote caching disabled
2025-07-20T04:47:26.2895845Z ##[group]@cloudexpress/api:build
2025-07-20T04:47:26.2945305Z cache miss, executing d7d57639bfc623a5
2025-07-20T04:47:26.2946042Z 
2025-07-20T04:47:26.2946823Z > @cloudexpress/api@1.0.0 build /home/runner/work/Cygni/Cygni/packages/api
2025-07-20T04:47:26.2948088Z > echo 'Skipping build for packages/api - using services/api instead'
2025-07-20T04:47:26.2948776Z 
2025-07-20T04:47:26.2949409Z Skipping build for packages/api - using services/api instead
2025-07-20T04:47:26.2950614Z ##[endgroup]
2025-07-20T04:47:27.5129068Z [;31mfullstack-demo:build[;0m
2025-07-20T04:47:27.5135815Z cache miss, executing 836c423f5302bbfb
2025-07-20T04:47:27.5137541Z 
2025-07-20T04:47:27.5139536Z > fullstack-demo@1.0.0 build /home/runner/work/Cygni/Cygni/examples/fullstack-demo
2025-07-20T04:47:27.5141405Z > npm run build:frontend && npm run build:backend
2025-07-20T04:47:27.5142073Z 
2025-07-20T04:47:27.5143343Z 
2025-07-20T04:47:27.5154876Z > fullstack-demo@1.0.0 build:frontend
2025-07-20T04:47:27.5155470Z > cd frontend && npm run build
2025-07-20T04:47:27.5155744Z 
2025-07-20T04:47:27.5155754Z 
2025-07-20T04:47:27.5155910Z > frontend@1.0.0 build
2025-07-20T04:47:27.5156256Z > vite build
2025-07-20T04:47:27.5156438Z 
2025-07-20T04:47:27.5156613Z sh: 1: vite: not found
2025-07-20T04:47:27.5157141Z npm error Lifecycle script `build` failed with error:
2025-07-20T04:47:27.5157668Z npm error code 127
2025-07-20T04:47:27.5158406Z npm error path /home/runner/work/Cygni/Cygni/examples/fullstack-demo/frontend
2025-07-20T04:47:27.5159106Z npm error workspace frontend@1.0.0
2025-07-20T04:47:27.5159876Z npm error location /home/runner/work/Cygni/Cygni/examples/fullstack-demo/frontend
2025-07-20T04:47:27.5160571Z npm error command failed
2025-07-20T04:47:27.5161011Z npm error command sh -c vite build
2025-07-20T04:47:27.5161636Z  ELIFECYCLE  Command failed.
2025-07-20T04:47:27.5163301Z [ERROR] command finished with error: command (/home/runner/work/Cygni/Cygni/examples/fullstack-demo) /home/runner/setup-pnpm/node_modules/.bin/pnpm run build exited (1)
2025-07-20T04:47:27.5315354Z ##[group]@cloudexpress/api:test
2025-07-20T04:47:27.5315988Z cache miss, executing 65717c5af65827f0
2025-07-20T04:47:27.5325258Z ##[endgroup]
2025-07-20T04:47:27.5415696Z ##[group]@cloudexpress/auth:build
2025-07-20T04:47:27.5416274Z cache miss, executing b67affc02e0960ce
2025-07-20T04:47:27.5416587Z 
2025-07-20T04:47:27.5417046Z > @cloudexpress/auth@0.1.0 build /home/runner/work/Cygni/Cygni/services/auth
2025-07-20T04:47:27.5417962Z > tsc
2025-07-20T04:47:27.5418120Z 
2025-07-20T04:47:27.5418481Z ##[endgroup]
2025-07-20T04:47:27.5451073Z ##[group]@cloudexpress/builder:build
2025-07-20T04:47:27.5451867Z cache miss, executing 4ded1d4d68d2c67b
2025-07-20T04:47:27.5452292Z 
2025-07-20T04:47:27.5453039Z > @cloudexpress/builder@0.1.0 build /home/runner/work/Cygni/Cygni/services/builder
2025-07-20T04:47:27.5453742Z > tsc
2025-07-20T04:47:27.5453920Z 
2025-07-20T04:47:27.5458137Z ##[endgroup]
2025-07-20T04:47:27.5466708Z ##[group]@cygni/cli:build
2025-07-20T04:47:27.5467309Z cache miss, executing b16674cbdaf125c3
2025-07-20T04:47:27.5467632Z 
2025-07-20T04:47:27.5468218Z > @cygni/cli@0.1.0 build /home/runner/work/Cygni/Cygni/packages/cli
2025-07-20T04:47:27.5469017Z > tsc && chmod +x dist/index.js
2025-07-20T04:47:27.5469399Z 
2025-07-20T04:47:27.5469813Z ##[endgroup]
2025-07-20T04:47:27.5496133Z ##[group]@cygni/sdk:build
2025-07-20T04:47:27.5496663Z cache miss, executing 7c13eef4e550ea9c
2025-07-20T04:47:27.5496973Z 
2025-07-20T04:47:27.5497382Z > @cygni/sdk@0.1.0 build /home/runner/work/Cygni/Cygni/packages/sdk
2025-07-20T04:47:27.5497950Z > tsc
2025-07-20T04:47:27.5498124Z 
2025-07-20T04:47:27.5498938Z ##[endgroup]
2025-07-20T04:47:27.5503021Z ##[group]@cloudexpress/services-api:build
2025-07-20T04:47:27.5503426Z cache miss, executing 4e62ac1d496e0320
2025-07-20T04:47:27.5503618Z 
2025-07-20T04:47:27.5503937Z > @cloudexpress/services-api@0.1.0 build /home/runner/work/Cygni/Cygni/services/api
2025-07-20T04:47:27.5504603Z > tsc
2025-07-20T04:47:27.5504715Z 
2025-07-20T04:47:27.5504942Z ##[endgroup]
2025-07-20T04:47:27.7351667Z ##[group]@cloudexpress/web-ui:build
2025-07-20T04:47:27.7377575Z ##[error]fullstack-demo#build: command (/home/runner/work/Cygni/Cygni/examples/fullstack-demo) /home/runner/setup-pnpm/node_modules/.bin/pnpm run build exited (1)
2025-07-20T04:47:27.7388997Z cache miss, executing 228955e8942f1de9
2025-07-20T04:47:27.7389345Z 
2025-07-20T04:47:27.7389873Z > @cloudexpress/web-ui@0.1.0 build /home/runner/work/Cygni/Cygni/packages/web-ui
2025-07-20T04:47:27.7390594Z > next build
2025-07-20T04:47:27.7390779Z 
2025-07-20T04:47:27.7391148Z ##[endgroup]
2025-07-20T04:47:27.7391343Z 
2025-07-20T04:47:27.7391533Z  Tasks:    1 successful, 9 total
2025-07-20T04:47:27.7391967Z Cached:    0 cached, 9 total
2025-07-20T04:47:27.7392343Z   Time:    2.96s 
2025-07-20T04:47:27.7392728Z Failed:    fullstack-demo#build
2025-07-20T04:47:27.7392991Z 
2025-07-20T04:47:27.7416015Z  ERROR  run failed: command  exited (1)
2025-07-20T04:47:27.8473746Z  ELIFECYCLE  Test failed. See above for more details.
2025-07-20T04:47:27.8655037Z Tests failed. Running individual package tests...
2025-07-20T04:47:28.2836285Z Scope: 10 of 11 workspace projects
2025-07-20T04:47:28.2856520Z examples/fullstack-demo test$ echo "No tests yet"
2025-07-20T04:47:28.2863752Z packages/api test$ echo 'Skipping tests for packages/api - using services/api instead'
2025-07-20T04:47:28.2866716Z packages/cli test$ vitest
2025-07-20T04:47:28.2871651Z packages/sdk test$ jest
2025-07-20T04:47:28.3045198Z examples/fullstack-demo test: No tests yet
2025-07-20T04:47:28.3066569Z examples/fullstack-demo test: Done
2025-07-20T04:47:28.3077236Z packages/api test: Skipping tests for packages/api - using services/api instead
2025-07-20T04:47:28.3090253Z packages/api test: Done
2025-07-20T04:47:28.3098723Z services/api test$ vitest
2025-07-20T04:47:28.3102841Z services/auth test$ vitest
2025-07-20T04:47:28.9007155Z packages/cli test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
2025-07-20T04:47:28.9401822Z packages/cli test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/packages/cli[39m
2025-07-20T04:47:28.9539506Z services/auth test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/auth[39m
2025-07-20T04:47:28.9631573Z services/api test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/api[39m
2025-07-20T04:47:29.9850131Z services/api test:  [32m✓[39m src/health.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 11[2mms[22m[39m
2025-07-20T04:47:30.0107820Z services/api test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:30.0113125Z services/api test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:30.0118295Z services/api test: [2m   Start at [22m 04:47:28
2025-07-20T04:47:30.0123730Z services/api test: [2m   Duration [22m 1.04s[2m (transform 111ms, setup 1ms, collect 79ms, tests 11ms, environment 0ms, prepare 179ms)[22m
2025-07-20T04:47:30.0451549Z services/auth test:  [32m✓[39m src/auth.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 8[2mms[22m[39m
2025-07-20T04:47:30.0729509Z services/auth test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:30.0735254Z services/auth test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:30.0736658Z services/auth test: [2m   Start at [22m 04:47:28
2025-07-20T04:47:30.0801100Z services/auth test: [2m   Duration [22m 1.11s[2m (transform 109ms, setup 0ms, collect 84ms, tests 8ms, environment 0ms, prepare 246ms)[22m
2025-07-20T04:47:30.0802392Z services/api test: Done
2025-07-20T04:47:30.0845147Z services/builder test$ vitest
2025-07-20T04:47:30.1245364Z services/auth test: Done
2025-07-20T04:47:30.1445682Z packages/cli test:  [32m✓[39m src/tests/framework-detector.test.ts [2m ([22m[2m12 tests[22m[2m)[22m[90m 18[2mms[22m[39m
2025-07-20T04:47:30.1790912Z packages/cli test: [90mstdout[2m | src/tests/builder.test.ts[2m > [22m[2mBuilder[2m > [22m[2mbuildProject[2m > [22m[2mshould auto-detect framework when not specified[22m[39m
2025-07-20T04:47:30.1796618Z packages/cli test: Detected framework: react
2025-07-20T04:47:30.1802465Z packages/cli test: [90mstdout[2m | src/tests/builder.test.ts[2m > [22m[2mBuilder[2m > [22m[2mbuildProject[2m > [22m[2mshould run pre-build commands when specified[22m[39m
2025-07-20T04:47:30.1808015Z packages/cli test: Running build command...
2025-07-20T04:47:30.1813270Z packages/cli test:  [32m✓[39m src/tests/builder.test.ts [2m ([22m[2m7 tests[22m[2m)[22m[90m 12[2mms[22m[39m
2025-07-20T04:47:30.2216075Z packages/sdk test: PASS src/sdk.test.ts
2025-07-20T04:47:30.2252711Z packages/sdk test:   SDK
2025-07-20T04:47:30.2255334Z packages/sdk test:     ✓ should pass basic test (9 ms)
2025-07-20T04:47:30.2299727Z packages/sdk test: Test Suites: 1 passed, 1 total
2025-07-20T04:47:30.2301018Z packages/sdk test: Tests:       1 passed, 1 total
2025-07-20T04:47:30.2302297Z packages/sdk test: Snapshots:   0 total
2025-07-20T04:47:30.2303872Z packages/sdk test: Time:        1.171 s
2025-07-20T04:47:30.2305261Z packages/sdk test: Ran all test suites.
2025-07-20T04:47:30.2687424Z packages/sdk test: Done
2025-07-20T04:47:30.3462516Z packages/cli test:  [32m✓[39m src/tests/deploy-helpers.test.ts [2m ([22m[2m18 tests[22m[2m)[22m[90m 23[2mms[22m[39m
2025-07-20T04:47:30.6637085Z services/builder test: [7m[1m[36m RUN [39m[22m[27m [36mv0.34.6[39m [90m/home/runner/work/Cygni/Cygni/services/builder[39m
2025-07-20T04:47:30.7335859Z packages/cli test:  [32m✓[39m src/dummy.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-07-20T04:47:30.8009446Z packages/cli test:  [32m✓[39m src/tests/runtime-validator.test.ts [2m ([22m[2m8 tests[22m[2m)[22m[90m 73[2mms[22m[39m
2025-07-20T04:47:30.8192139Z packages/cli test: [2m Test Files [22m [1m[32m5 passed[39m[22m[90m (5)[39m
2025-07-20T04:47:30.8231333Z packages/cli test: [2m      Tests [22m [1m[32m46 passed[39m[22m[90m (46)[39m
2025-07-20T04:47:30.8232798Z packages/cli test: [2m   Start at [22m 04:47:28
2025-07-20T04:47:30.8234624Z packages/cli test: [2m   Duration [22m 1.88s[2m (transform 353ms, setup 3ms, collect 901ms, tests 129ms, environment 1ms, prepare 997ms)[22m
2025-07-20T04:47:30.8694568Z packages/cli test: Done
2025-07-20T04:47:31.0820420Z services/builder test:  [32m✓[39m src/builder.test.ts [2m ([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
2025-07-20T04:47:31.0905936Z services/builder test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.0908447Z services/builder test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
2025-07-20T04:47:31.0910191Z services/builder test: [2m   Start at [22m 04:47:30
2025-07-20T04:47:31.0912620Z services/builder test: [2m   Duration [22m 426ms[2m (transform 43ms, setup 0ms, collect 27ms, tests 3ms, environment 0ms, prepare 86ms)[22m
2025-07-20T04:47:31.1102832Z services/builder test: Done
